<!DOCTYPE html>
<html>
  <head>
    <title>Scalability of remanufacturing</title>
    <meta charset="utf-8" />
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/handsontable@9.0.1/dist/handsontable.full.min.js"></script>
    <script src="static/js/app.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/handsontable@9.0.1/dist/handsontable.full.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  </head>
  <body>
    <hr>

    <!-------------------- Input DOE data ------------------->

    <h1>COVID-19 weekly forecaster</h1>
    <p>Disclaimer: This platform was trained on retrospective data, has not gone through prospective validation, and is not intended for clinical use. A manuscript describing the model has been submitted for publication and is currently under review.</p>
    <hr>
    <h2>Input your data</h2>

    <div>
      <p class="lead">Upload a csv file to view its data.</p>
      <form id="preprocess" method="POST" enctype="multipart/form-data" action="/">
          <input type="file" id=fileupload name="filename" accept=".csv">
          <input type="submit">
      </form>
    </div>


    <div>
      <form id="define" method="POST">
          <input type="submit" value="Define Problem">
      </form>
    </div>

    <!-- Input tables -->
    <div id="input">
      Assign change effect values
    </div>

    <div id="output">
      Assign monotonicity values
    </div>

    <div id="JacobianTable">
      Choose Jacobian components to plot
    </div>

    <script>
      $("form#define").submit(function(event) {
        event.preventDefault();
        $.ajax({
          url: "/api/define",
          type: "POST",
          data: {},
          success: function(response) {
            deleteTable("input")
            deleteTable("output")
            deleteTable("JacobianTable")

            addInputTable(response.nx,"input");
            addInputTable(response.nf,"output");
            addJacobian(response.nx,response.nf);
          },
          error: function(err) {
            console.log(err);
          }
        });
        return false
      });
    </script>

    <div>
      <form id="plot" method="POST">
          <input type="submit" value="Plot projection">
      </form>
    </div>


    <hr>
  </body>
</html>